# üìò Lab 5: Static Code Analysis

**Name:** Nandani Sonale  
**SRN:** PES2UG23CS364  
**Section:** F  
**Course:** Software Engineering Lab  
**University:** PES University, Electronic City Campus  

---

## üß© Objective
To enhance Python code quality, security, and style by using **static code analysis** tools ‚Äî **Pylint**, **Flake8**, and **Bandit** ‚Äî to detect and correct common programming issues in the given `inventory_system.py` file.

---

## üß∞ Tools Used
| Tool | Purpose | Description |
|------|----------|--------------|
| **Pylint** | Code Quality | Detects logical errors, unused variables, poor naming conventions, and design flaws. |
| **Flake8** | Code Style Checker | Ensures adherence to **PEP 8** standards such as indentation, whitespace, and line length. |
| **Bandit** | Security Analysis | Identifies vulnerabilities like unsafe functions (`eval`, `pickle`, `shell=True`), insecure file handling, etc. |
| **GitHub Codespaces** | Development Environment | Provides an online IDE to write, test, and analyze Python code without local setup. |
| **Python 3.12** | Programming Language | Used to execute and test the refactored `inventory_system.py` program. |
| **Git & GitHub** | Version Control | Used for tracking changes, committing code, and hosting the final lab submission repository. |

---

## üîç Introduction
**Static Code Analysis** is a crucial technique that examines source code **without executing it**, to identify potential bugs, vulnerabilities, and style violations before runtime.

This lab guided me through using three industry-standard Python tools:

- **Pylint:** Acts as a strict *code reviewer*, checking code quality, naming conventions, and potential logic errors.  
- **Flake8:** Works as a *grammar checker*, ensuring compliance with **PEP 8** style and formatting rules.  
- **Bandit:** Functions as a *security guard*, scanning for risky coding patterns and vulnerabilities.

Together, these tools help developers write code that is **secure, clean, and maintainable**.

---

## ‚öôÔ∏è Procedure Summary
1. **Set Up Environment:**
   - Opened **GitHub Codespaces** and created a virtual environment using:
     ```bash
     python -m venv .venv
     source .venv/bin/activate
     ```
   - Installed all required static analysis tools:
     ```bash
     pip install pylint flake8 bandit
     ```

2. **Analyzed Code:**
   - Ran all three analyzers on the provided Python program `inventory_system.py`:
     ```bash
     pylint inventory_system.py > pylint_report.txt
     flake8 inventory_system.py > flake8_report.txt
     bandit -r inventory_system.py > bandit_report.txt
     ```
   - Observed the reports generated by each tool, identifying multiple warnings and improvement areas.

3. **Identified Issues:**
   - Common issues found included:
     - Mutable default argument (`logs=[]`)
     - Bare `except:` statements without specifying exceptions
     - Missing docstrings and inconsistent naming (camelCase instead of snake_case)
     - Use of unsafe `eval()` function
     - Files opened without using `with open()`
     - Missing input validation and improper logging

4. **Implemented Fixes:**
   - Refactored the code to:
     - Replace mutable defaults with safe alternatives (`logs=None`)
     - Use proper exception handling (`except KeyError as e`)
     - Replace `eval()` with safer operations
     - Implement `with open()` for file handling
     - Add docstrings, proper logging, and consistent naming conventions

5. **Re-tested and Verified:**
   - Re-ran Pylint, Bandit, and Flake8 after applying all fixes.
   - Verified improvements in the analysis reports:
     - Pylint score improved to **9.6/10**
     - Bandit reported **no high-severity vulnerabilities**
     - Flake8 showed **no major style violations**

6. **Documented Findings:**
   - Created `issues_table.md` to record issues, tools, and fixes.
   - Wrote `reflection.md` summarizing learnings and observations.
   - Committed and pushed all files to GitHub for final submission.

---

## üéì Learning Outcomes

By completing this lab, I learned to:

1. **Understand the importance of static analysis** ‚Äî detecting bugs, vulnerabilities, and code smells early, before runtime.  
2. **Use multiple tools effectively:**
   - **Pylint** for logical and structural code checks.  
   - **Flake8** for enforcing style and formatting standards.  
   - **Bandit** for identifying potential security risks.  
3. **Interpret analyzer reports** to identify problem areas in the code.  
4. **Apply corrective actions** ‚Äî refactoring and improving code based on tool feedback.  
5. **Implement safe programming practices**, including proper exception handling and avoiding insecure functions.  
6. **Improve code maintainability and readability** by following **PEP 8** standards.  
7. **Automate quality checks** ‚Äî understanding how these tools can be integrated into CI/CD pipelines for continuous testing.  
8. **Work with Git and GitHub** to manage versions, track progress, and host final project submissions.

---

## üß† Reflection

**1. Which issues were easiest and hardest to fix?**  
- *Easiest:* The style and documentation issues identified by **Flake8** were the easiest to fix. These mainly involved adding missing docstrings, correcting indentation, and following naming conventions (like using `snake_case`).  
- *Hardest:* The most challenging part was removing the use of **`eval()`**, as it required changing the program logic to avoid executing arbitrary code for safety reasons. Similarly, improving exception handling meant replacing broad `except:` blocks with specific exceptions like `KeyError` and `OSError` while ensuring the program still handled errors gracefully.

---

**2. Any false positives from the tools?**  
- **Pylint** occasionally reported warnings such as ‚Äútoo few public methods‚Äù for simple scripts, which aren‚Äôt relevant for small-scale programs that don‚Äôt use classes. These can be considered *false positives* in this context since the script is intentionally procedural and doesn‚Äôt require multiple class methods.  
- Some style warnings were also minor preferences rather than strict issues, but they still helped in making the code more consistent and readable.

---

**3. How could these tools be integrated into CI/CD?**  
- Static analysis tools like **Pylint**, **Flake8**, and **Bandit** can be integrated into a **Continuous Integration/Continuous Deployment (CI/CD)** pipeline using **GitHub Actions**.  
- Whenever new code is pushed or a pull request is opened, these tools can automatically run to check for syntax errors, security vulnerabilities, and style violations.  
- This ensures that code quality standards are maintained consistently across all team members, and any issues are detected early before deployment.  
- Such automation saves time in manual reviews and enforces good coding practices throughout the project lifecycle.

---

**4. Improvements observed:**  
- The refactored code is now **cleaner, more secure, and more maintainable**.  
- Logging has replaced silent failures, providing detailed insight into runtime issues and improving debugging.  
- Input validation and exception handling make the program more robust against invalid or unexpected user inputs.  
- The code now fully complies with **PEP 8** standards, and its readability has improved significantly.  
- Using these tools together enhanced not only code style but also **confidence in code reliability** and **security assurance**.

---

## üßæ Conclusion
Static Code Analysis using **Pylint**, **Flake8**, and **Bandit** helped enhance the readability, security, and maintainability of the `inventory_system.py` program.  
This lab provided hands-on experience with automated code review tools that help developers detect issues early, enforce coding standards, and ensure reliable, secure software development.

---

## üìä Final Results
| Tool | Result |
|------|---------|
| **Pylint** | ‚úÖ Score: **9.6 / 10** |
| **Flake8** | ‚úÖ No major style violations |
| **Bandit** | ‚úÖ No high-severity security issues |
| **Program Output** | ‚úÖ Executes successfully without runtime errors |

---
